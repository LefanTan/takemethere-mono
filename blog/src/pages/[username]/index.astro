---
import { Image } from "@astrojs/image/components";
import { fetchPageByUsername } from "@lib/gateway";

const { username } = Astro.params;

const page = await fetchPageByUsername(username as string);

if (!page) return Astro.redirect("/404");

const bgColor = "#FFF";
---

<main>
  <!-- Content with a width cap -->
  <div class="w-full sm:max-w-xl p-5">
    <!-- user profile -->
    <div class="flex gap-3">
      <Image
        src="https://storage.googleapis.com/takeme-public-assets/mugs.png"
        alt="default profile image"
        width={125}
        aspectRatio={1}
        class="rounded-lg ring-black-2"
      />
      <div class="flex flex-col">
        <h1>Lefan</h1>
        <p set:html={"Food connoisseur 🥜 <br /> Adventure enthusiast 🤹‍♂️"} />
      </div>
    </div>
  </div>
</main>

<style lang="less" define:vars={{ bgColor }}>
  main {
    @apply w-screen h-screen flex justify-center;
    background-color: var(--bgColor);
  }
</style>
